# CLAUDE

## 言語
応答には日本語を使ってください。
ただしコードのコメントは、コードベース内で使われている言語を使ってください。

## git
commitやステージングはユーザーが実施するため実行しないでください。
ただしユーザーが指示した場合はcommitやステージングをしてください。

## 操作
開発サーバーを停止する場合は、プロジェクト名などで条件付けをして、
従事しているプロジェクトに関わるサーバーのみを停止してください。

## 指示
ユーザーからの指示が今後も対応が必要と思われる場合は、
これを標準のルールにするかを質問し、YESと答えられたらCLAUDE.mdにルールを追記してください。


<!-- from https://github.com/ncaq/dotfiles -->
## コメント
トップレベルに存在する関数や型にはドキュメントコメントを書いて説明してください。
内部の動作など見れば普通わかるものはコメントを書かないでください。

## 動作確認
作業を正常に完了するときはビルドとテストを全て成功させてください。
警告もなるべく解消してください。
全て正常に出来た場合のみ正常に完了したと考えてください。
作業が完了出来なかった場合は失敗したと報告してください。

## テスト

### テストコードは変更しない
テストコードの変更は基本的に禁止。
テストは仕様を表すものであり、実装の正しさを検証するためのものです。
テストが失敗している場合は、実装側を修正してください。
テストコードを実装に合わせるのは禁止。
テストが誤っていると思ったら質問してください。
独自判断でテストを書き換えるのは禁止。

#### テストコードを変更しても良い例外
テストコードを変更して良い例外は以下のような場合です。
- テストを追加するタスクを依頼されている。
- テストを修正するタスクを依頼されている。
- テストコードに明らかな構文エラーがある。
- テスト仕様が矛盾している。
    - この場合は独自に判断するのではなく質問して確認してください。
- テストコードがテスト対象のAPIと互換性がなくなっている。
    - この場合は独自に判断するのではなく質問して確認してください。

### テストデータに依存した条件分岐は避ける
実装コードがテストで使用されている具体的なデータ値を特別扱いすることは基本的に禁止。
具体的なデータ値とは、例えば変数名やテーブル名などです。

データに依存した実装は以下のような問題を引き起こします。

- 脆弱なテスト: テストデータが変更されると実装が機能しなくなる。
- 隠れた仕様: 特定のデータ名に対する特別な処理が明示的な仕様ではなく暗黙的になる。
- 汎用性の欠如: 実際の運用環境では機能しない可能性がある。
